<% about = AboutPage.first rescue nil %>
<% stored = {} %>
<% if about&.content.present? %>
  <% begin %>
    <% stored = JSON.parse(about.content) rescue {} %>
  <% rescue StandardError %>
    <% stored = {} %>
  <% end %>
<% end %>

<%# Prefer structured mission/vision stored under our_mission/our_vision, but fall back to legacy raw HTML under vision_mission %>
<% if stored['vision_mission'].present? %>
  <div class="py-12">
    <%= raw(stored['vision_mission']) %>
  </div>
<% else %>
  <% mission = stored['our_mission'] || { 'title' => 'Our Mission', 'description' => "To be Africa's leading launchpad, empowering bold innovators with the knowledge, mentorship, and community to turn their ideas into scalable, tech-driven solutions that drive economic growth and address the continent's most pressing challenges." } %>
  <% vision = stored['our_vision'] || { 'title' => 'Our Vision', 'description' => "To build an inclusive network that supports African founders through a collaborative platform where mentors, investors, and founders work together to scale innovative, tech-driven startups." } %>

  <section id="vision-mission" class="py-20 bg-nailab-purple">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 bg-white">
    <div class="grid md:grid-cols-2 gap-12 items-start">
      <div class="space-y-4">
        <h3 class="text-2xl font-bold text-gray-900"><%= mission['title'] %></h3>
        <p class="text-lg text-gray-700 leading-relaxed"><%= mission['description'] %></p>
      </div>
      <div class="space-y-4">
        <h3 class="text-2xl font-bold text-gray-900"><%= vision['title'] %></h3>
        <p class="text-lg text-gray-700 leading-relaxed"><%= vision['description'] %></p>
      </div>
    </div>
  </div>
</section>

<% end %>
