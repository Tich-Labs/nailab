<%# app/views/mentor_onboarding/steps/_mentorship_focus.html.erb %>
<div class="p-8">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-gray-900 mb-2">Mentorship Focus</h2>
    <p class="text-gray-600">Help us match you with the right startups</p>
  </div>
  <%= form_with model: @profile, url: mentor_onboarding_path(step: 'mentorship_focus'), method: :put, id: 'mentor-onboarding-form', class: 'space-y-8' do |f| %>
    <div>
      <%= f.label :sectors, 'Industries you can mentor in', class: 'block text-sm font-medium text-gray-700 mb-4' %>
      <p class="text-sm text-gray-500 mb-3">Select all that apply</p>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
        <% industries = ['Agritech', 'Healthtech', 'Fintech', 'Edutech', 'Mobility & Logistics tech', 'E-commerce & Retailtech', 'SaaS', 'Creative & Mediatech', 'Cleantech', 'AI & ML', 'Robotics', 'Mobiletech', 'Other'] %>
        <% industries.each do |industry| %>
          <label class="flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
            <%= check_box_tag 'user_profile[sectors][]', industry,
                              (@profile.sectors || []).include?(industry),
                              class: 'rounded border-gray-300 text-nailab-teal focus:ring-teal-500' %>
            <span class="text-sm"><%= industry %></span>
          </label>
        <% end %>
      </div>
      <% if @profile.respond_to?(:errors) && @profile.errors && @profile.errors[:sectors].any? %>
        <p class="mt-2 text-sm text-red-600"><%= @profile.errors[:sectors].first %></p>
      <% end %>
    </div>
    <div>
      <%= f.label :expertise, 'Areas of mentorship you offer', class: 'block text-sm font-medium text-gray-700 mb-4' %>
      <p class="text-sm text-gray-500 mb-3">Select all that apply</p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
        <% areas = ['Business model refinement', 'PMF', 'Access to customers/markets', 'GTM planning', 'Product development', 'Pitching/fundraising', 'Marketing/branding', 'Team building/HR', 'Budgeting/finance', 'Market expansion', 'Legal/regulatory', 'Leadership growth', 'Partnerships', 'Sales & acquisition', 'Other'] %>
        <% areas.each do |area| %>
          <label class="flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
            <%= check_box_tag 'user_profile[expertise][]', area,
                              (@profile.expertise || []).include?(area),
                              class: 'rounded border-gray-300 text-nailab-teal focus:ring-teal-500' %>
            <span class="text-sm"><%= area %></span>
          </label>
        <% end %>
      </div>
      <% if @profile.respond_to?(:errors) && @profile.errors && @profile.errors[:expertise].any? %>
        <p class="mt-2 text-sm text-red-600"><%= @profile.errors[:expertise].first %></p>
      <% end %>
    </div>
    <div>
      <%= f.label :stage_preference, 'Startup stages you prefer', class: 'block text-sm font-medium text-gray-700 mb-4' %>
      <p class="text-sm text-gray-500 mb-3">Select your preferred startup stages</p>
      <div class="space-y-3">
        <% stages = ['Idea / Early (MVP)', 'Growth', 'Scaling', 'Other'] %>
        <% stages.each do |stage| %>
          <label class="flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
            <%= radio_button_tag 'user_profile[stage_preference][]', stage,
                                (@profile.stage_preference || []).include?(stage),
                                class: 'border-gray-300 text-nailab-teal focus:ring-teal-500' %>
            <span class="text-sm"><%= stage %></span>
          </label>
        <% end %>
      </div>
      <% if @profile.errors[:stage_preference].any? %>
        <p class="mt-2 text-sm text-red-600"><%= @profile.errors[:stage_preference].first %></p>
      <% end %>
    </div>
  <% end %>
</div>