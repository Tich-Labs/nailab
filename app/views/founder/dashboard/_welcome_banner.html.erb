<section class="rounded-2xl shadow-lg min-h-72 bg-nailab-teal border border-nailab-teal mb-8">
  <div class="flex-col lg:flex-row lg:justify-between w-full px-8 py-12 flex items-center">
    <div class="flex-1">
      <h1 class="text-4xl lg:text-5xl font-bold text-white mb-4">
        Welcome back, <%= (defined?(current_user) && current_user) ? (current_user.user_profile&.full_name || current_user.email) : (@user&.user_profile&.full_name || @user&.email) %> ðŸ‘‹
      </h1>
      <% user = current_user || @user %>
      <% user_profile = user&.user_profile %>
      <% startup_profile = user&.startup_profile %>
      <% missing_bio = user_profile&.bio.blank? || user_profile&.bio.to_s.length < 30 %>
      <% missing_photo = !(user_profile&.photo&.attached?) %>
      <% missing_logo = startup_profile&.logo_url.blank? && !(startup_profile&.logo&.attached?) %>
      <% if missing_bio || missing_photo || missing_logo %>
        <div class="alert bg-white/20 border border-white/30 rounded-xl mb-6">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-white w-6 h-6 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
          <div class="text-white">
            <strong>Profile incomplete:</strong>
            <% if missing_bio && missing_photo && missing_logo %>
              Please add your bio, profile photo, and startup logo to complete your profile.
            <% elsif missing_bio && missing_photo %>
              Please add your bio and profile photo to complete your profile.
            <% elsif missing_bio && missing_logo %>
              Please add your bio and startup logo to complete your profile.
            <% elsif missing_photo && missing_logo %>
              Please add your profile photo and startup logo to complete your profile.
            <% elsif missing_bio %>
              Please add your bio to complete your profile.
            <% elsif missing_photo %>
              Please add your profile photo to complete your profile.
            <% elsif missing_logo %>
              Please add your startup logo to complete your profile.
            <% end %>
          </div>
        </div>
        <div class="flex flex-wrap gap-3">
          <% if missing_bio || missing_photo %>
            <%= link_to 'Add bio & photo', founder_account_path, class: 'btn btn-sm md:btn-md btn-outline text-white border-white hover:bg-white/20' %>
          <% end %>
          <% if missing_logo %>
            <%= link_to 'Add startup logo', edit_founder_startup_profile_path, class: 'btn btn-sm md:btn-md btn-outline text-white border-white hover:bg-white/20' %>
          <% end %>
          <%= link_to 'Browse mentors', mentors_path, class: 'btn btn-sm md:btn-md btn-outline text-white border-white hover:bg-white/20' %>
        </div>
      <% else %>
        <p class="text-lg text-white mb-6 leading-relaxed">
          Profile <span class="badge badge-success badge-lg">100% complete</span>
        </p>
        <div class="flex">
          <%= link_to 'Browse mentors', mentors_path, class: 'btn btn-sm md:btn-md btn-outline text-white border-white hover:bg-white/20' %>
        </div>
      <% end %>
    </div>
  </div>
</section>