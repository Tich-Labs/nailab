<%# app/views/founder/conversations/show.html.erb %>
<div class="max-w-4xl mx-auto py-8 px-4">
  <div class="bg-white shadow rounded-lg">
    <!-- Conversation Header -->
    <div class="p-6 border-b">
      <div class="flex items-center space-x-3">
        <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center">
          <span class="text-purple-600 font-semibold"><%= @conversation.other_participant(current_user).name.first %></span>
        </div>
        <div>
          <h1 class="text-xl font-semibold"><%= @conversation.other_participant(current_user).name %></h1>
          <p class="text-sm text-gray-600"><%= @conversation.other_participant(current_user).role %></p>
        </div>
      </div>
    </div>
    <!-- Messages -->
    <div class="p-6 max-h-96 overflow-y-auto" id="messages-container">
      <div class="space-y-4">
        <% @messages.each do |message| %>
          <div class="<%= message.sender == current_user ? 'flex justify-end' : 'flex justify-start' %>">
            <div class="<%= message.sender == current_user ? 'bg-purple-600 text-white' : 'bg-gray-100 text-gray-900' %> rounded-lg px-4 py-2 max-w-xs lg:max-w-md">
              <p><%= message.content %></p>
              <p class="text-xs <%= message.sender == current_user ? 'text-purple-200' : 'text-gray-500' %> mt-1">
                <%= message.created_at.strftime('%I:%M %p') %>
              </p>
            </div>
          </div>
        <% end %>
      </div>
    </div>
    <!-- Message Form -->
    <div class="p-6 border-t">
      <form action="<%= founder_conversation_messages_path(@conversation) %>" method="post" class="flex space-x-4">
        <textarea name="message[content]" placeholder="Type your message..." rows="1" class="flex-1 border-gray-300 rounded-lg focus:ring-purple-500 focus:border-purple-500 resize-none"></textarea>
        <button type="submit" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700">Send</button>
      </form>
    </div>
  </div>
</div>