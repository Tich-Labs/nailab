<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Screenshots — Nailab</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>html{scroll-behavior:smooth}</style>
</head>
<body class="bg-slate-50 text-slate-800">
  <div id="nailabHeader"></div>
  <script src="/shared.js"></script>
  <script>if (window.NailabShared && typeof window.NailabShared.renderHeader === 'function') window.NailabShared.renderHeader({ pageTitle: 'Screenshots' });</script>

  <main class="max-w-6xl mx-auto p-6">
    <header class="mb-6">
      <h1 class="text-2xl font-semibold">Screenshots Gallery</h1>
      <p class="text-sm text-slate-600">All screenshot assets used across the project. Click to enlarge.</p>
    </header>

    <section class="bg-white p-4 rounded shadow mb-6">
      <div class="flex flex-wrap gap-2">
        <button class="ss-filter px-3 py-1 rounded bg-slate-100 text-sm" data-cat="">All</button>
        <button class="ss-filter px-3 py-1 rounded bg-slate-100 text-sm" data-cat="admin">Admin</button>
        <button class="ss-filter px-3 py-1 rounded bg-slate-100 text-sm" data-cat="onboarding">Onboarding</button>
        <button class="ss-filter px-3 py-1 rounded bg-slate-100 text-sm" data-cat="founder">Founder</button>
        <button class="ss-filter px-3 py-1 rounded bg-slate-100 text-sm" data-cat="mentor">Mentor</button>
        <button class="ss-filter px-3 py-1 rounded bg-slate-100 text-sm" data-cat="site">Site</button>
      </div>
    </section>

    <section id="gallery" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">
      <!-- If you maintain a screenshots_index.json, the client script will load it and render thumbnails. Otherwise keep static entries here. -->
      <div class="rounded overflow-hidden bg-white border p-1"><img src="/screenshots/site/auth/auth_sign_in.png" alt="Sign in" data-cat="site" class="w-full h-36 object-cover cursor-pointer ss-thumb"></div>
      <div class="rounded overflow-hidden bg-white border p-1"><img src="/screenshots/founder/dashboard.png" alt="Founder Dashboard" data-cat="founder" class="w-full h-36 object-cover cursor-pointer ss-thumb"></div>
      <div class="rounded overflow-hidden bg-white border p-1"><img src="/screenshots/admin/dashboard_overview.png" alt="Admin" data-cat="admin" class="w-full h-36 object-cover cursor-pointer ss-thumb"></div>
      <div class="rounded overflow-hidden bg-white border p-1"><img src="/screenshots/onboarding/step1.png" alt="Onboarding" data-cat="onboarding" class="w-full h-36 object-cover cursor-pointer ss-thumb"></div>
      <div class="rounded overflow-hidden bg-white border p-1"><img src="/screenshots/mentor/profile.png" alt="Mentor Profile" data-cat="mentor" class="w-full h-36 object-cover cursor-pointer ss-thumb"></div>
      <div class="rounded overflow-hidden bg-white border p-1"><img src="/screenshots/site/marketing_home.png" alt="Marketing" data-cat="site" class="w-full h-36 object-cover cursor-pointer ss-thumb"></div>
    </section>

    <footer class="mt-8 text-sm text-slate-500">See <a href="/" class="text-sky-600 underline">overview</a> • Images served from <code>/screenshots/</code></footer>
  </main>

  <!-- Lightbox -->
  <div id="ssModal" class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50 p-4">
    <div class="max-w-4xl w-full bg-white rounded shadow p-3">
      <div class="flex justify-between items-center mb-2">
        <div class="text-sm text-slate-500">Screenshot preview</div>
        <button id="ssClose" class="px-2 py-1">Close</button>
      </div>
      <img id="ssModalImg" src="" alt="screenshot" class="w-full h-auto rounded" />
    </div>
  </div>

  <script>
    // Try to load screenshots_index.json for dynamic gallery
    (function () {
      function renderList(list) {
        const gallery = document.getElementById('gallery');
        if (!gallery) return;
        gallery.innerHTML = '';
        list.forEach(p => {
          const d = document.createElement('div');
          d.className = 'rounded overflow-hidden bg-white border p-1';
          const img = document.createElement('img');
          img.src = p;
          img.alt = p.split('/').pop();
          // naive category from path
          img.dataset.cat = (p.split('/')[1] || 'site').toLowerCase();
          img.className = 'w-full h-36 object-cover cursor-pointer ss-thumb';
          d.appendChild(img);
          gallery.appendChild(d);
        });
      }

      fetch('/screenshots_index.json').then(r => r.json()).then(list => { if (Array.isArray(list)) renderList(list); }).catch(()=>{/* ignore */});

      document.addEventListener('DOMContentLoaded', function () {
        // filters
        document.querySelectorAll('.ss-filter').forEach(btn => btn.addEventListener('click', function () {
          const cat = this.dataset.cat || '';
          document.querySelectorAll('.ss-thumb').forEach(img => {
            img.closest('div').style.display = (!cat || img.dataset.cat === cat) ? '' : 'none';
          });
        }));

        // lightbox
        const modal = document.getElementById('ssModal');
        const modalImg = document.getElementById('ssModalImg');
        const close = document.getElementById('ssClose');
        document.body.addEventListener('click', function (e) {
          const t = e.target;
          if (t && t.classList && t.classList.contains('ss-thumb')) {
            modalImg.src = t.src; modal.classList.remove('hidden'); modal.classList.add('flex');
          }
        });
        close.addEventListener('click', function () { modal.classList.add('hidden'); modal.classList.remove('flex'); modalImg.src = ''; });
        modal.addEventListener('click', function (e) { if (e.target === modal) { modal.classList.add('hidden'); modal.classList.remove('flex'); modalImg.src = ''; } });
      });
    })();
  </script>
</body>
</html>
