<%# Contact Us page editor following About page patterns %>
<h1 class="text-2xl font-bold mb-4">Edit: Contact Us Page</h1>
<div class="grid grid-cols-2 gap-8 mb-6">
  <div>
    <h2 class="font-semibold mb-3">Editor</h2>
    <div class="bg-white p-4 rounded shadow">
      <%= form_with url: admin_contact_us_sections_update_path, method: :patch, local: true do |form| %>
        <p class="text-sm text-slate-600 mb-4">Update the contact information displayed on the Contact Us page.</p>
        <!-- Basic Contact Information -->
        <div class="mb-6 p-4 border rounded">
          <h3 class="font-bold mb-3">Contact Information</h3>
          <div class="grid grid-cols-2 gap-4 mb-3">
            <div class="mb-3">
              <%= label_tag 'contact_content[email]', 'Email Address', class: 'block font-medium' %>
              <%= email_field_tag 'contact_content[email]', @structured_content[:email], class: 'w-full form-input admin-form-input' %>
            </div>
            <div class="mb-3">
              <%= label_tag 'contact_content[phone]', 'Phone Number', class: 'block font-medium' %>
              <%= telephone_field_tag 'contact_content[phone]', @structured_content[:phone], class: 'w-full form-input admin-form-input' %>
            </div>
          </div>
          <div class="mb-3">
            <%= label_tag 'contact_content[address]', 'Physical Address', class: 'block font-medium' %>
            <%= text_area_tag 'contact_content[address]', @structured_content[:address], rows: 3, class: 'w-full form-input admin-form-input' %>
          </div>
        </div>
        <!-- Map Section -->
        <div class="mb-6 p-4 border rounded">
          <h3 class="font-bold mb-3">Map Location</h3>
          <div class="mb-3">
            <%= label_tag 'contact_content[map_embed_code]', 'Map Embed Code', class: 'block font-medium' %>
            <%= text_area_tag 'contact_content[map_embed_code]', @structured_content[:map_embed_code], rows: 4, class: 'w-full form-input admin-form-input', placeholder: 'Paste Google Maps embed code or iframe' %>
          </div>
          <div class="mb-3">
            <%= label_tag 'contact_content[map_url]', 'Or Map URL', class: 'block font-medium' %>
            <%= url_field_tag 'contact_content[map_url]', @structured_content[:map_url], class: 'w-full form-input admin-form-input', placeholder: 'https://maps.google.com/...' %>
          </div>
        </div>
        <!-- Social Media Links -->
        <div class="mb-6 p-4 border rounded">
          <h3 class="font-bold mb-3">Social Media Links</h3>
          <div class="space-y-3">
            <div class="mb-3">
              <%= label_tag 'contact_content[social_links][twitter]', 'Twitter', class: 'block font-medium' %>
              <%= url_field_tag 'contact_content[social_links][twitter]', @structured_content.dig(:social_links, :twitter), class: 'w-full form-input admin-form-input', placeholder: 'https://twitter.com/...' %>
            </div>
            <div class="mb-3">
              <%= label_tag 'contact_content[social_links][linkedin]', 'LinkedIn', class: 'block font-medium' %>
              <%= url_field_tag 'contact_content[social_links][linkedin]', @structured_content.dig(:social_links, :linkedin), class: 'w-full form-input admin-form-input', placeholder: 'https://linkedin.com/...' %>
            </div>
            <div class="mb-3">
              <%= label_tag 'contact_content[social_links][facebook]', 'Facebook', class: 'block font-medium' %>
              <%= url_field_tag 'contact_content[social_links][facebook]', @structured_content.dig(:social_links, :facebook), class: 'w-full form-input admin-form-input', placeholder: 'https://facebook.com/...' %>
            </div>
            <div class="mb-3">
              <%= label_tag 'contact_content[social_links][instagram]', 'Instagram', class: 'block font-medium' %>
              <%= url_field_tag 'contact_content[social_links][instagram]', @structured_content.dig(:social_links, :instagram), class: 'w-full form-input admin-form-input', placeholder: 'https://instagram.com/...' %>
            </div>
          </div>
        </div>
        <div class="flex gap-3">
          <%= form.submit 'Save Contact Page', class: 'btn btn-primary' %>
          <%= link_to 'Preview live page', '/contact', class: 'btn btn-secondary' %>
        </div>
      <% end %>
    </div>
  </div>
  <div>
    <h2 class="font-semibold mb-3">Preview</h2>
    <div class="bg-white p-6 rounded shadow space-y-5">
      <!-- Basic Contact Information Preview -->
      <div class="space-y-4">
        <div>
          <p class="text-xs font-semibold uppercase tracking-wider text-slate-400">Contact Information</p>
          <div class="grid grid-cols-2 gap-4">
            <div class="space-y-2">
              <p class="text-sm font-medium text-slate-600">Email:</p>
              <p class="text-sm text-slate-900"><%= @structured_content[:email] || 'contact@nailab.africa' %></p>
            </div>
            <div class="space-y-2">
              <p class="text-sm font-medium text-slate-600">Phone:</p>
              <p class="text-sm text-slate-900"><%= @structured_content[:phone] || '+254 XXX XXX XXX' %></p>
            </div>
          </div>
          <div>
            <p class="text-sm font-medium text-slate-600 mb-2">Address:</p>
            <p class="text-sm text-slate-600"><%= @structured_content[:address] || 'Nailab Headquarters, Nairobi, Kenya' %></p>
          </div>
        </div>
      </div>
      <!-- Map Preview -->
      <div class="space-y-4">
        <div>
          <p class="text-xs font-semibold uppercase tracking-wider text-slate-400">Map Location</p>
          <% if @structured_content[:map_embed_code].present? %>
            <div class="bg-gray-100 rounded-lg p-4 text-center">
              <p class="text-sm text-slate-600">Map will be displayed using embed code</p>
            </div>
          <% elsif @structured_content[:map_url].present? %>
            <div class="bg-gray-100 rounded-lg p-4 text-center">
              <p class="text-sm text-slate-600">Map will be displayed using URL: <%= @structured_content[:map_url] %></p>
            </div>
          <% else %>
            <div class="bg-gray-100 rounded-lg p-4 text-center">
              <p class="text-sm text-slate-600">No map configured</p>
            </div>
          <% end %>
        </div>
      </div>
      <!-- Social Media Preview -->
      <div class="space-y-4">
        <div>
          <p class="text-xs font-semibold uppercase tracking-wider text-slate-400">Social Media Links</p>
          <div class="flex flex-wrap gap-4">
            <% if @structured_content.dig(:social_links, :twitter).present? %>
              <%= link_to @structured_content.dig(:social_links, :twitter), target: "_blank", class: 'inline-flex items-center bg-blue-500 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-600' do %>
                <span class="mr-2">ùïè</span>
                Twitter
              <% end %>
              <% if @structured_content.dig(:social_links, :linkedin).present? %>
                <%= link_to @structured_content.dig(:social_links, :linkedin), target: "_blank", class: 'inline-flex items-center bg-blue-700 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-800' do %>
                  <span class="mr-2">in</span>
                  LinkedIn
                <% end %>
                <% if @structured_content.dig(:social_links, :facebook).present? %>
                  <%= link_to @structured_content.dig(:social_links, :facebook), target: "_blank", class: 'inline-flex items-center bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-blue-700' do %>
                    <span class="mr-2">f</span>
                    Facebook
                  <% end %>
                  <% if @structured_content.dig(:social_links, :instagram).present? %>
                    <%= link_to @structured_content.dig(:social_links, :instagram), target: "_blank", class: 'inline-flex items-center bg-pink-600 text-white px-3 py-2 rounded-md text-sm font-medium hover:bg-pink-700' do %>
                      <span class="mr-2">üì∑</span>
                      Instagram
                    <% end %>
                  </div>
                </div>
              </div>
              <p class="text-xs text-slate-500 mt-6">Preview shows contact information layout. Actual styling may vary on live page.</p>
            </div>
          </div>
        </div>
