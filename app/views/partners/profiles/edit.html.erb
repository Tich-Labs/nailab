<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900">Edit Organization Profile</h1>
    <p class="mt-2 text-gray-600">Update your partnership information</p>
  </div>
  <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
    <div class="bg-gradient-to-r from-purple-600 to-teal-600 px-8 py-6">
      <h2 class="text-2xl font-bold text-white">Profile Information</h2>
      <p class="text-purple-100 mt-1">Keep your organization details current</p>
    </div>
    <div class="p-8">
      <%= form_with model: @partner_application, url: partners_profile_path, method: :patch, local: true, class: "space-y-8" do |form| %>
        <!-- Organization Information -->
        <div>
          <h3 class="text-lg font-semibold text-gray-900 mb-6">Organization Information</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <%= form.label :organization_name, "Organization Name", class: "block text-sm font-medium text-gray-700 mb-2" %>
              <%= form.text_field :organization_name, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "Enter organization name" %>
            </div>
            <div>
              <%= form.label :organization_type, "Organization Type", class: "block text-sm font-medium text-gray-700 mb-2" %>
              <%= form.select :organization_type, [
                ['Corporation', 'corporation'],
                ['Non-Profit', 'non_profit'],
                ['Government Agency', 'government'],
                ['Educational Institution', 'educational'],
                ['Other', 'other']
              ], { include_blank: "Select organization type" }, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm" %>
            </div>
            <div>
              <%= form.label :website, "Website", class: "block text-sm font-medium text-gray-700 mb-2" %>
              <%= form.url_field :website, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "https://example.com" %>
            </div>
            <div>
              <%= form.label :country, "Country", class: "block text-sm font-medium text-gray-700 mb-2" %>
              <%= form.country_select :country, { include_blank: "Select country" }, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm" %>
            </div>
          </div>
          <!-- Other Organization Type (conditional) -->
          <div id="other-org-type" class="mt-4" style="display: none;">
            <%= form.label :other_organization_type, "Please specify", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.text_field :other_organization_type, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "Specify organization type" %>
          </div>
        </div>
        <!-- Contact Information -->
        <div>
          <h3 class="text-lg font-semibold text-gray-900 mb-6">Contact Information</h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <%= form.label :contact_name, "Contact Name", class: "block text-sm font-medium text-gray-700 mb-2" %>
              <%= form.text_field :contact_name, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "Full name" %>
            </div>
            <div>
              <%= form.label :contact_email, "Contact Email", class: "block text-sm font-medium text-gray-700 mb-2" %>
              <%= form.email_field :contact_email, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "email@example.com" %>
            </div>
          </div>
        </div>
        <!-- Description -->
        <div>
          <%= form.label :description, "Organization Description", class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= form.text_area :description, rows: 4, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "Describe your organization and its mission..." %>
        </div>
        <!-- Key Sectors -->
        <div>
          <%= form.label :key_sectors, "Key Sectors", class: "block text-sm font-medium text-gray-700 mb-4" %>
          <p class="text-sm text-gray-600 mb-3">Select the sectors your organization focuses on</p>
          <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
            <% [
              ['Technology', 'technology'],
              ['Healthcare', 'healthcare'],
              ['Education', 'education'],
              ['Finance', 'finance'],
              ['Agriculture', 'agriculture'],
              ['Manufacturing', 'manufacturing'],
              ['Energy', 'energy'],
              ['Transportation', 'transportation'],
              ['Other', 'other']
            ].each do |label, value| %>
              <div class="flex items-center">
                <%= form.check_box value, { class: "h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded" }, value, nil %>
                <%= form.label value, label, class: "ml-2 block text-sm text-gray-900" %>
              </div>
            <% end %>
          </div>
          <!-- Other Key Sectors (conditional) -->
          <div id="other-sectors" class="mt-4" style="display: none;">
            <%= form.label :other_key_sectors, "Please specify other sectors", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.text_field :other_key_sectors, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "Specify other sectors" %>
          </div>
        </div>
        <!-- Collaboration Areas -->
        <div>
          <%= form.label :collaboration_areas, "Collaboration Areas", class: "block text-sm font-medium text-gray-700 mb-4" %>
          <p class="text-sm text-gray-600 mb-3">Select areas where you'd like to collaborate</p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            <% [
              ['Mentorship Programs', 'mentorship'],
              ['Funding Opportunities', 'funding'],
              ['Technical Support', 'technical_support'],
              ['Market Access', 'market_access'],
              ['Research Partnerships', 'research'],
              ['Training Programs', 'training'],
              ['Other', 'other']
            ].each do |label, value| %>
              <div class="flex items-center">
                <%= form.check_box value, { class: "h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded" }, value, nil %>
                <%= form.label value, label, class: "ml-2 block text-sm text-gray-900" %>
              </div>
            <% end %>
          </div>
          <!-- Other Collaboration Areas (conditional) -->
          <div id="other-collaboration" class="mt-4" style="display: none;">
            <%= form.label :other_collaboration_areas, "Please specify other collaboration areas", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.text_field :other_collaboration_areas, class: "w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm", placeholder: "Specify other collaboration areas" %>
          </div>
        </div>
        <!-- Form Actions -->
        <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
          <%= link_to 'Cancel', partners_profile_path, class: "px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-semibold transition-colors" %>
          <%= form.submit 'Save Changes', class: "px-8 py-3 bg-gradient-to-r from-purple-600 to-teal-600 text-white rounded-xl hover:from-purple-700 hover:to-teal-700 font-semibold shadow-lg transition-all" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
<script>
  // Show/hide conditional fields
  document.addEventListener('DOMContentLoaded', function() {
    const orgTypeSelect = document.querySelector('#partner_application_organization_type');
    const otherOrgTypeDiv = document.querySelector('#other-org-type');

    const keySectorsCheckboxes = document.querySelectorAll('input[name="partner_application[key_sectors][]"]');
    const otherSectorsDiv = document.querySelector('#other-sectors');

    const collaborationCheckboxes = document.querySelectorAll('input[name="partner_application[collaboration_areas][]"]');
    const otherCollaborationDiv = document.querySelector('#other-collaboration');

    function toggleOtherOrgType() {
      if (orgTypeSelect.value === 'other') {
        otherOrgTypeDiv.style.display = 'block';
      } else {
        otherOrgTypeDiv.style.display = 'none';
      }
    }

    function toggleOtherSectors() {
      let show = false;
      keySectorsCheckboxes.forEach(cb => {
        if (cb.value === 'other' && cb.checked) show = true;
      });
      otherSectorsDiv.style.display = show ? 'block' : 'none';
    }

    function toggleOtherCollaboration() {
      let show = false;
      collaborationCheckboxes.forEach(cb => {
        if (cb.value === 'other' && cb.checked) show = true;
      });
      otherCollaborationDiv.style.display = show ? 'block' : 'none';
    }

    orgTypeSelect.addEventListener('change', toggleOtherOrgType);
    keySectorsCheckboxes.forEach(cb => cb.addEventListener('change', toggleOtherSectors));
    collaborationCheckboxes.forEach(cb => cb.addEventListener('change', toggleOtherCollaboration));

    // Initial check
    toggleOtherOrgType();
    toggleOtherSectors();
    toggleOtherCollaboration();
  });
</script></content>
<parameter name="filePath">/home/tich/Documents/nailab-rails/app/views/partners/profiles/edit.html.erb