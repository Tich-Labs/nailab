<h1 class="text-2xl font-bold mb-4">Hero Section â€” Editor & Preview</h1>

<div class="grid grid-cols-2 gap-8 mb-6">
  <div>
    <h2 class="font-semibold mb-3">Editor</h2>
    <div class="mb-4">
      <%= link_to 'Preview live section', root_path(anchor: 'hero'), class: 'btn btn-secondary' %>
    </div>
    <div class="bg-white p-4 rounded shadow">
      <%= form_with url: admin_homepage_hero_update_path, method: :patch, local: true do %>
        <p class="text-sm text-slate-600 mb-4">Update the hero heading, copy, image, and CTA links that appear on the landing section.</p>
        <div class="mb-3">
          <%= label_tag 'hero_title', 'Heading', class: 'block font-bold text-black' %>
          <%= text_field_tag 'hero[title]', @hero_content[:title], id: 'hero_title', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
        </div>
        <div class="mb-3">
          <%= label_tag 'hero_subtitle', 'Body copy', class: 'block font-bold text-black' %>
          <%= text_area_tag 'hero[subtitle]', @hero_content[:subtitle], id: 'hero_subtitle', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2', rows: 3 %>
        </div>
        <div class="mb-3">
          <%= label_tag 'hero_image_url', 'Image URL', class: 'block font-bold text-black' %>
          <%= text_field_tag 'hero[image_url]', @hero_content[:image_url], id: 'hero_image_url', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
        </div>
        <div class="grid grid-cols-2 gap-4 mb-3">
          <div>
            <%= label_tag 'hero_cta_text', 'Primary CTA label', class: 'block font-bold text-black' %>
            <%= text_field_tag 'hero[cta_text]', @hero_content[:cta_text], id: 'hero_cta_text', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
          </div>
          <div>
            <%= label_tag 'hero_cta_link', 'Primary CTA link', class: 'block font-bold text-black' %>
            <%= text_field_tag 'hero[cta_link]', @hero_content[:cta_link], id: 'hero_cta_link', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4 mb-3">
          <div>
            <%= label_tag 'hero_secondary_label', 'Secondary CTA label', class: 'block font-bold text-black' %>
            <%= text_field_tag 'hero[secondary_cta][label]', @hero_content.dig(:secondary_cta, :label), id: 'hero_secondary_label', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
          </div>
          <div>
            <%= label_tag 'hero_secondary_link', 'Secondary CTA link', class: 'block font-bold text-black' %>
            <%= text_field_tag 'hero[secondary_cta][link]', @hero_content.dig(:secondary_cta, :link), id: 'hero_secondary_link', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
          </div>
        </div>
        <div class="mb-4">
          <p class="text-sm font-medium mb-2">Hero stats (displayed below the preview)</p>
          <div class="space-y-2">
            <% (@connect_stats || []).each_with_index do |stat, idx| %>
              <div class="grid grid-cols-2 gap-3">
                <%= text_field_tag 'connect_stats[][value]', stat.is_a?(Hash) ? stat[:value] || stat['value'] : stat[:value], placeholder: 'Value (e.g. 1031)', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
                <%= text_field_tag 'connect_stats[][label]', stat.is_a?(Hash) ? stat[:label] || stat['label'] : stat[:label], placeholder: 'Label (e.g. Startup Founders)', class: 'w-full form-input admin-form-input bg-white border border-gray-200 shadow-sm rounded-md px-3 py-2' %>
              </div>
            <% end %>
          </div>
        </div>
        <div class="flex gap-3">
          <%= submit_tag 'Save hero', class: 'btn btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>

  <div>
    <h2 class="font-semibold mt-2 mb-16">Preview</h2>
    <div class="bg-white p-6 rounded shadow space-y-5">
      <div class="space-y-5">
        <div class="space-y-4">
          <div class="relative rounded-2xl overflow-hidden shadow-xl">
            <%= image_tag @hero_content[:image_url], alt: 'Hero preview', class: 'w-full h-56 object-cover' %>
          </div>
          <div>
            <p class="text-xs font-semibold uppercase tracking-wider text-slate-400">Hero copy</p>
            <h2 class="text-2xl font-bold text-slate-900"><%= @hero_content[:title] %></h2>
            <p class="text-sm text-slate-600"><%= @hero_content[:subtitle] %></p>
          </div>
          <div class="flex flex-col gap-3">
            <%= link_to @hero_content[:cta_text], @hero_content[:cta_link], class: 'rounded-md bg-purple-600 text-white text-center px-5 py-3 text-sm font-semibold' %>
            <%= link_to @hero_content.dig(:secondary_cta, :label), @hero_content.dig(:secondary_cta, :link), class: 'rounded-md border border-slate-200 text-center px-5 py-3 text-sm font-semibold text-slate-700' %>
          </div>
        </div>
      </div>
      <div class="space-y-4 bg-teal-50 p-4 rounded-xl">
        <% stats = @connect_stats || PagesController::DEFAULT_CONNECT_STATS %>
        <div class="flex flex-row justify-center items-center gap-6">
          <% stats.each do |s| %>
            <div class="text-center">
              <p class="text-3xl font-bold text-slate-800"><%= s.is_a?(Hash) ? (s[:value] || s['value']) : s %></p>
              <p class="text-xs font-semibold uppercase tracking-wider text-slate-500"><%= s.is_a?(Hash) ? (s[:label] || s['label']) : '' %></p>
            </div>
          <% end %>
        </div>
      </div>
      <p class="text-xs text-slate-500">Image-only hero; carousel support will ship later.</p>
    </div>
  </div>
</div>
