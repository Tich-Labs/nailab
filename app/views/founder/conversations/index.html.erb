<%# app/views/founder/conversations/index.html.erb %>
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="mb-8">
    <h1 class="text-4xl lg:text-5xl font-bold text-gray-900 mb-4">Messages</h1>
    <p class="text-xl text-gray-600">Stay connected with your mentors and fellow founders</p>
  </div>
  <div class="bg-white rounded-xl shadow-lg overflow-hidden">
    <div class="bg-gradient-to-r from-purple-600 to-nailab-teal px-8 py-6">
      <h2 class="text-2xl font-bold text-white">Conversations</h2>
    </div>
    <div class="divide-y divide-gray-100">
      <% @conversations.each do |conversation| %>
        <a href="<%= founder_conversation_path(conversation) %>" class="block p-6 hover:bg-gradient-to-r hover:from-purple-50 hover:to-teal-50 transition-all">
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <div class="w-16 h-16 bg-gradient-to-r from-purple-600 to-nailab-teal rounded-full flex items-center justify-center">
                <span class="text-white font-bold text-xl"><%= conversation.other_participant(current_user).name.first %></span>
              </div>
              <div class="flex-1">
                <h3 class="text-lg font-semibold text-gray-900"><%= conversation.other_participant(current_user).name %></h3>
                <p class="text-gray-600 mt-1"><%= conversation.last_message&.content&.truncate(80) || 'No messages yet' %></p>
              </div>
            </div>
            <div class="text-sm text-gray-500 flex flex-col items-end">
              <span><%= conversation.updated_at.strftime('%B %d, %Y') %></span>
              <span class="text-xs"><%= conversation.updated_at.strftime('%I:%M %p') %></span>
            </div>
          </div>
        </a>
      <% end %>
    </div>
    <% if @conversations.empty? %>
      <div class="p-12 text-center">
        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">No conversations yet</h3>
        <p class="text-gray-600 mb-6">Start a conversation by connecting with mentors or peers in the community.</p>
        <%= link_to 'Browse Mentors', founder_mentorship_path, class: "inline-flex items-center px-6 py-3 bg-nailab-teal text-white text-lg font-semibold rounded-xl shadow-lg hover:bg-nailab-teal transition-all" %>
      </div>
    <% end %>
  </div>
</div>