<%# app/views/founder/startup_profiles/show.html.erb %>
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <%= render 'shared/dashboard_page_header', title: 'Startup Profile', subtitle: "Manage your startup's information and visibility" %>
    <div class="bg-base-100 rounded-xl shadow-lg overflow-hidden">
    <div class="bg-nailab-purple text-white px-8 py-6 rounded-t-xl">
      <div class="flex items-center gap-6">
        <% if @startup_profile.logo.attached? %>
          <%= image_tag @startup_profile.logo.variant(resize_to_limit: [120, 120]), class: 'w-24 h-24 rounded-lg object-cover border border-white/20' %>
        <% elsif @startup_profile.logo_url.present? %>
          <%= image_tag @startup_profile.logo_url, class: 'w-24 h-24 rounded-lg object-cover border border-white/20' %>
        <% end %>
        <div>
          <h2 class="text-2xl font-bold text-white"><%= @startup_profile.startup_name %></h2>
          <p class="text-white/70 mt-1"><%= @startup_profile.value_proposition || 'Building the future of innovation' %></p>
        </div>
      </div>
    </div>
    <div class="p-8 bg-base-100 rounded-b-xl">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold text-nailab-purple mb-4">Company Details</h3>
            <div class="space-y-4">
              <div class="flex justify-between items-start py-2 border-b border-gray-100">
                <span class="text-base-content/60 font-medium">Description</span>
                <div class="text-base-content text-right ml-4 max-w-xl overflow-hidden" style="display:-webkit-box; -webkit-line-clamp:4; -webkit-box-orient:vertical;">
                  <%= (@startup_profile.description.presence || 'Not provided') %>
                </div>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-gray-100">
                <span class="text-base-content/60 font-medium">Stage</span>
                <span class="text-base-content font-semibold"><%= @startup_profile.stage %></span>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-gray-100">
                <span class="text-base-content/60 font-medium">Sector</span>
                <span class="text-base-content font-semibold"><%= @startup_profile.sector %></span>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-gray-100">
                <span class="text-base-content/60 font-medium">Website</span>
                <span class="text-base-content font-semibold"><%= link_to(@startup_profile.website_url, @startup_profile.website_url, target: '_blank', rel: 'noopener') if @startup_profile.website_url.present? %></span>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-gray-100">
                <span class="text-base-content/60 font-medium">Country / Markets</span>
                <span class="text-base-content font-semibold"><%= @startup_profile.location.presence || 'Not provided' %></span>
              </div>
              <div class="flex justify-between items-center py-2 border-b border-gray-100">
                <span class="text-base-content/60 font-medium">Funding Stage</span>
                <span class="text-base-content font-semibold"><%= @startup_profile.funding_stage %></span>
              </div>
              <div class="flex justify-between items-center py-2">
                <span class="text-base-content/60 font-medium">Funding Raised</span>
                <span class="text-base-content font-semibold">$<%= number_with_delimiter(@startup_profile.funding_raised) %></span>
              </div>
            </div>
          </div>
        </div>
        <div class="space-y-6">
          <div>
            <h3 class="text-lg font-semibold text-nailab-purple mb-4">Market & Vision</h3>
            <div class="space-y-4">
              <div>
                <span class="text-base-content/60 font-medium">Target Market</span>
                <p class="text-base-content mt-1"><%= @startup_profile.target_market %></p>
              </div>
              <div>
                <span class="text-base-content/60 font-medium">Value Proposition</span>
                <p class="text-base-content mt-1"><%= @startup_profile.value_proposition %></p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="mt-6">
        <h3 class="text-lg font-semibold text-nailab-purple mb-4">Mentorship & Challenges</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div>
            <dt class="text-sm font-semibold text-nailab-purple uppercase tracking-wide">Mentorship Areas</dt>
            <dd class="text-sm text-gray-900 mt-1"><%= Array(@startup_profile&.mentorship_areas).join(', ').presence || 'Not provided' %></dd>
          </div>
          <div>
            <dt class="text-sm font-semibold text-nailab-purple uppercase tracking-wide">Preferred Mentorship Mode</dt>
            <dd class="text-sm text-gray-900 mt-1"><%= @startup_profile&.preferred_mentorship_mode.presence || 'Not provided' %></dd>
          </div>
          <div class="md:col-span-3">
            <dt class="text-sm font-semibold text-nailab-purple uppercase tracking-wide">Key Challenges</dt>
            <dd class="text-sm text-gray-900 mt-1"><%= @startup_profile&.challenge_details.presence || 'Not provided' %></dd>
          </div>
        </div>
      </div>
      <div class="mt-8 pt-8 border-t border-base-200">
        <div class="flex flex-wrap items-center gap-3">
          <%= link_to 'Edit Profile', edit_founder_startup_profile_path, class: 'inline-flex items-center px-6 py-3 bg-nailab-purple text-white text-lg font-semibold rounded-xl shadow-lg hover:bg-nailab-purple transition-all' %>
          <a class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50" href="/founder/startups/new">Add Additional Startup</a>
          <a class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50" href="/founder/startup_invites/new?startup_id=<%= @startup_profile&.user&.startups&.first&.id %>">Invite team member</a>
          <!-- Modals removed: now using regular links for Add Startup and Invite -->
        </div>
      </div>
    </div>
  </div>
</div>