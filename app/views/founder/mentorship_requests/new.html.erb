<%# app/views/founder/mentorship_requests/new.html.erb %>
<div class="max-w-2xl mx-auto py-8 px-4">
  <div class="bg-white shadow rounded-lg p-8">
    <div class="mb-6">
      <h1 class="text-3xl font-bold text-gray-900">Request Mentorship</h1>
      <% if @mentor %>
        <p class="text-gray-600 mt-2">Request a mentorship session with <strong><%= @mentor.name %></strong></p>
      <% else %>
        <p class="text-gray-600 mt-2">Request a mentorship session</p>
      <% end %>
    </div>
    <%= form_with model: @request, url: founder_mentorship_requests_path, method: :post, local: true, class: "space-y-6" do |form| %>
      <% if @mentor.nil? %>
        <div>
          <%= form.label :mentor_id, "Select Mentor", class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= form.collection_select :mentor_id, UserProfile.where(role: 'mentor', profile_visibility: true), :user_id, :full_name, { prompt: "Choose a mentor" }, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
        </div>
      <% else %>
        <%= form.hidden_field :mentor_id, value: @mentor.user_id %>
      <% end %>
      <div>
        <%= form.label :message, "Message", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_area :message, placeholder: "Tell the mentor about your startup, what you're working on, and what kind of help you're looking for...", rows: 6, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
      </div>
      <div>
        <%= form.label :areas_needed, "Select the top 3 areas where you need mentorship", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.collection_check_boxes :areas_needed, [
          "Business model refinement",
          "Product-market fit",
          "Access to customers and markets",
          "Go-to-market planning and launch",
          "Product development",
          "Pitching, fundraising, and investor readiness",
          "Marketing and branding",
          "Team building and HR",
          "Budgeting and financial management",
          "Market expansion (local or regional)",
          "Legal or regulatory guidance",
          "Leadership and personal growth",
          "Strategic partnerships and collaborations",
          "Sales and customer acquisition"
        ], :to_s, :to_s, {}, { class: "mr-2" } %>
      </div>
      <div>
        <%= form.label :preferred_mode, "Preferred Mentorship Mode", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.select :preferred_mode, ["One-on-one Sessions", "Group Mentorship", "Virtual Mentorship", "In-person"], { prompt: "Choose a mode" }, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
      </div>
      <div>
        <%= form.label :details, "Details", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_area :details, placeholder: "Provide more details about the challenges or opportunities you would like guidance on...", rows: 6, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" %>
      </div>
      <div class="flex justify-end space-x-4">
        <%= link_to 'Cancel', founder_mentorship_path, class: "px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-semibold" %>
        <%= form.submit 'Send Request', class: "px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-semibold" %>
      </div>
    <% end %>
  </div>
</div>