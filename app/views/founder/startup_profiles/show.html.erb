<%# app/views/founder/startup_profiles/show.html.erb %>
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="mb-8">
    <h1 class="text-4xl lg:text-5xl font-bold text-nailab-purple mb-4">Startup Profile</h1>
    <p class="text-xl text-base-content/60">Manage your startup's information and visibility</p>
  </div>
  
  <!-- Hero Header -->
  <div class="card bg-nailab-teal border border-nailab-teal shadow-xl mb-8">
    <div class="card-body">
      <div class="flex items-center gap-6">
        <% if @startup_profile.logo.attached? %>
          <figure class="flex-shrink-0">
            <%= image_tag @startup_profile.logo.variant(resize_to_limit: [120, 120]), class: 'w-24 h-24 rounded-lg object-cover border border-white/20' %>
          </figure>
        <% elsif @startup_profile.logo_url.present? %>
          <figure class="flex-shrink-0">
            <%= image_tag @startup_profile.logo_url, class: 'w-24 h-24 rounded-lg object-cover border border-white/20' %>
          </figure>
        <% end %>
        <div>
          <h1 class="text-4xl font-bold text-white"><%= @startup_profile.startup_name %></h1>
          <p class="text-white/80 mt-2 text-lg"><%= @startup_profile.value_proposition || 'Building the future of innovation' %></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Cards -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
    <!-- Company Details Card -->
    <div class="lg:col-span-2">
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body">
          <h2 class="card-title text-2xl text-nailab-purple mb-4">Company Details</h2>
          <div class="divider"></div>
          
          <div class="overflow-x-auto">
            <table class="table table-sm w-full">
              <tbody>
                <tr>
                  <td class="font-semibold text-base-content/70">Description</td>
                  <td><%= truncate(@startup_profile.description.presence || 'Not provided', length: 200) %></td>
                </tr>
                <tr class="bg-base-200/50">
                  <td class="font-semibold text-base-content/70">Stage</td>
                  <td><span class="badge badge-primary"><%= @startup_profile.stage %></span></td>
                </tr>
                <tr>
                  <td class="font-semibold text-base-content/70">Sector</td>
                  <td><span class="badge badge-secondary"><%= @startup_profile.sector %></span></td>
                </tr>
                <tr class="bg-base-200/50">
                  <td class="font-semibold text-base-content/70">Website</td>
                  <td><% if @startup_profile.website_url.present? %><a href="<%= @startup_profile.website_url %>" target="_blank" rel="noopener" class="link link-primary"><%= @startup_profile.website_url %></a><% else %>Not provided<% end %></td>
                </tr>
                <tr>
                  <td class="font-semibold text-base-content/70">Country / Markets</td>
                  <td><%= @startup_profile.location.presence || 'Not provided' %></td>
                </tr>
                <tr class="bg-base-200/50">
                  <td class="font-semibold text-base-content/70">Funding Stage</td>
                  <td><span class="badge badge-outline"><%= @startup_profile.funding_stage %></span></td>
                </tr>
                <tr>
                  <td class="font-semibold text-base-content/70">Funding Raised</td>
                  <td class="font-bold text-nailab-teal">$<%= number_with_delimiter(@startup_profile.funding_raised) %></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Quick Stats -->
    <div class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <h2 class="card-title text-xl text-nailab-purple mb-4">Quick Stats</h2>
        <div class="divider"></div>
        <div class="space-y-4">
          <div class="stat p-0">
            <div class="stat-title text-xs">Founded</div>
            <div class="stat-value text-2xl text-nailab-teal"><%= @startup_profile.founded_year %></div>
          </div>
          <div class="stat p-0">
            <div class="stat-title text-xs">Team Size</div>
            <div class="stat-value text-2xl text-nailab-purple"><%= @startup_profile.team_size %></div>
          </div>
          <div class="stat p-0">
            <div class="stat-title text-xs">Team Members</div>
            <div class="stat-value text-2xl text-secondary"><%= @team_members_count %></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Market & Vision Section -->
  <div class="card bg-base-100 shadow-xl mb-8">
    <div class="card-body">
      <h2 class="card-title text-2xl text-nailab-purple mb-4">Market & Vision</h2>
      <div class="divider"></div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div>
          <h3 class="font-bold text-nailab-purple mb-3">Target Market</h3>
          <p class="text-base-content/80"><%= @startup_profile.target_market || 'Not specified' %></p>
        </div>
        <div>
          <h3 class="font-bold text-nailab-purple mb-3">Value Proposition</h3>
          <p class="text-base-content/80"><%= @startup_profile.value_proposition || 'Not specified' %></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Mentorship & Challenges Section -->
  <div class="card bg-base-100 shadow-xl mb-8">
    <div class="card-body">
      <h2 class="card-title text-2xl text-nailab-purple mb-4">Mentorship & Challenges</h2>
      <div class="divider"></div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div class="card bg-nailab-teal/5 border border-nailab-teal/20">
          <div class="card-body">
            <h3 class="font-bold text-nailab-teal mb-2">Mentorship Areas</h3>
            <p class="text-sm text-base-content/80"><%= Array(@startup_profile&.mentorship_areas).join(', ').presence || 'Not provided' %></p>
          </div>
        </div>
        <div class="card bg-nailab-purple/5 border border-nailab-purple/20">
          <div class="card-body">
            <h3 class="font-bold text-nailab-purple mb-2">Preferred Mode</h3>
            <p class="text-sm text-base-content/80"><%= @startup_profile&.preferred_mentorship_mode.presence || 'Not provided' %></p>
          </div>
        </div>
        <div class="card bg-warning/5 border border-warning/20 md:col-span-3">
          <div class="card-body">
            <h3 class="font-bold text-warning mb-2">Key Challenges</h3>
            <p class="text-sm text-base-content/80"><%= @startup_profile&.challenge_details.presence || 'Not provided' %></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <div class="flex flex-wrap gap-3 items-center">
        <%= link_to 'Edit Profile', edit_founder_startup_profile_path, class: 'btn btn-outline' %>
        <%= link_to 'Add Additional Startup', new_founder_startup_path, class: 'btn btn-outline' %>
        <%= link_to 'Invite Team Member', new_founder_startup_invite_path(startup_id: @startup_profile&.user&.startups&.first&.id), class: 'btn btn-outline' %>
      </div>
    </div>
  </div>
</div>