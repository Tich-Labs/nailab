<%# Shared partial for About section edit forms %>
<div class="flex justify-end mb-6">
  <a class="btn btn-secondary" href="<%= local_assigns[:preview_url] %>">Preview live section</a>
</div>
<%= form_with url: local_assigns[:form_url], method: :patch, local: true do |form| %>
  <div class="mb-4">
    <%= form.label :title, "Title", class: "block font-semibold mb-1" %>
    <%= form.text_field :title, value: local_assigns[:section_content]["title"], class: "w-full border rounded px-3 py-2" %>
  </div>
  <div class="mb-4">
    <%= form.label :description, "Description", class: "block font-semibold mb-1" %>
    <%= form.text_area :description, value: local_assigns[:section_content]["description"] || local_assigns[:section_content]["paragraph_one"], rows: 6, class: "w-full border rounded px-3 py-2" %>
  </div>
  <% if local_assigns[:stats] %>
    <div class="mb-4">
      <label class="block font-semibold mb-1">Impact Stats / Cards</label>
      <div id="impact-stats-list">
        <% local_assigns[:stats].each_with_index do |stat, idx| %>
          <div class="flex mb-2 gap-2">
            <%= form.text_field "stats[][value]", value: stat[:value] || stat["value"], placeholder: "Value", class: "border rounded px-2 py-1 w-24" %>
            <%= form.text_field "stats[][label]", value: stat[:label] || stat["label"], placeholder: "Label", class: "border rounded px-2 py-1 flex-1" %>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>
  <div>
    <%= form.submit "Save", class: "btn btn-primary" %>
  </div>
<% end %>
