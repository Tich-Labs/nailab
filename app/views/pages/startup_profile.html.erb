<section class="bg-nailab-purple py-16">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-white">
    <h1 class="text-4xl lg:text-5xl font-bold mb-4"><%= @startup_profile.startup_name %></h1>
    <p class="text-lg text-white/90 max-w-3xl"><%= @startup_profile.value_proposition.presence || 'Building the next generation of African innovation.' %></p>
    <div class="mt-6 flex flex-wrap gap-3">
      <% if @startup_profile.stage.present? %>
        <span class="badge badge-lg bg-white/20 text-white border-white/30"><%= @startup_profile.stage %></span>
      <% end %>
      <% if @startup_profile.sector.present? %>
        <span class="badge badge-lg bg-white/20 text-white border-white/30"><%= @startup_profile.sector %></span>
      <% end %>
      <% if @startup_profile.funding_stage.present? %>
        <span class="badge badge-lg bg-white/20 text-white border-white/30"><%= funding_stage_label(@startup_profile.funding_stage) %></span>
      <% end %>
    </div>
  </div>
</section>

<div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
  <div class="grid gap-8 lg:grid-cols-3">
    <!-- Main Content -->
    <div class="lg:col-span-2 space-y-6">
      <div class="card bg-base-100 shadow-xl p-8">
        <div class="card-body p-0">
          <h2 class="text-3xl font-bold text-base-content mb-6">About the Startup</h2>
          <p class="text-base-content/70 leading-relaxed break-words"><%= @startup_profile.description %></p>
        </div>
      </div>

      <div class="grid gap-6 sm:grid-cols-2">
        <div class="card bg-base-100 shadow-lg border border-base-300">
          <div class="card-body">
            <p class="text-xs uppercase tracking-wider font-bold text-base-content/60 mb-2">Target Market</p>
            <p class="text-base-content"><%= @startup_profile.target_market %></p>
          </div>
        </div>
        <div class="card bg-base-100 shadow-lg border border-base-300">
          <div class="card-body">
            <p class="text-xs uppercase tracking-wider font-bold text-base-content/60 mb-2">Challenge</p>
            <p class="text-base-content"><%= @startup_profile.challenge_details %></p>
          </div>
        </div>
      </div>

      <div class="card bg-base-100 shadow-xl p-8">
        <div class="card-body p-0">
          <h3 class="text-2xl font-bold text-base-content mb-4">Mentorship Focus</h3>
          <div class="flex flex-wrap gap-2">
            <% Array(@startup_profile.mentorship_areas).each do |area| %>
              <span class="badge badge-lg bg-nailab-purple/10 text-nailab-purple border-nailab-purple/20"><%= area %></span>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <!-- Sidebar -->
    <div class="space-y-6">
      <!-- Quick Facts Card -->
      <div class="card bg-base-100 shadow-xl p-6">
        <div class="card-body p-0">
          <h3 class="text-xl font-bold text-base-content mb-4">Quick Facts</h3>
          <ul class="space-y-3 text-sm">
            <% if @startup_profile.location.present? %>
              <li class="flex gap-2">
                <span class="font-semibold text-base-content/70">Location:</span>
                <span class="text-base-content"><%= @startup_profile.location %></span>
              </li>
            <% end %>
            <% if @startup_profile.website_url.present? %>
              <li class="flex gap-2">
                <span class="font-semibold text-base-content/70">Website:</span>
                <%= link_to @startup_profile.website_url, @startup_profile.website_url, target: '_blank', rel: 'noreferrer', class: 'link link-primary text-nailab-purple' %>
              </li>
            <% end %>
            <% if @startup_profile.founded_year.present? %>
              <li class="flex gap-2">
                <span class="font-semibold text-base-content/70">Founded:</span>
                <span class="text-base-content"><%= @startup_profile.founded_year %></span>
              </li>
            <% end %>
            <% if @startup_profile.team_size&.positive? %>
              <li class="flex gap-2">
                <span class="font-semibold text-base-content/70">Team Size:</span>
                <span class="text-base-content"><%= @startup_profile.team_size %></span>
              </li>
            <% end %>
            <% if @startup_profile.funding_raised.present? %>
              <li class="flex gap-2">
                <span class="font-semibold text-base-content/70">Funds Raised:</span>
                <span class="text-base-content">$<%= number_with_delimiter(@startup_profile.funding_raised) %></span>
              </li>
            <% end %>
          </ul>
        </div>
      </div>

      <!-- Founder Card -->
      <% if @startup_profile.user&.user_profile.present? %>
        <div class="card bg-base-100 shadow-xl p-6">
          <div class="card-body p-0">
            <h3 class="text-xl font-bold text-base-content mb-4">Founder</h3>
            
            <div class="flex items-center gap-4 mb-4">
              <% if @startup_profile.user.user_profile.photo_visibility && @startup_profile.user.user_profile.photo.attached? %>
                <%= image_tag @startup_profile.user.user_profile.photo.variant(resize_to_limit: [80, 80]), alt: @startup_profile.user.user_profile.full_name, class: "avatar w-16 h-16 rounded-full object-cover ring-2 ring-base-300" %>
              <% else %>
                <div class="avatar placeholder">
                  <div class="w-16 rounded-full bg-nailab-purple text-white">
                    <span class="text-lg font-semibold"><%= @startup_profile.user.user_profile.full_name&.first&.upcase %></span>
                  </div>
                </div>
              <% end %>
              <div>
                <h4 class="font-bold text-base-content"><%= @startup_profile.user.user_profile.full_name %></h4>
                <% if @startup_profile.user.user_profile.title.present? %>
                  <p class="text-sm text-base-content/70"><%= @startup_profile.user.user_profile.title %></p>
                <% end %>
              </div>
            </div>

            <% if @startup_profile.user.user_profile.organization.present? %>
              <p class="text-xs text-base-content/60 mb-3"><%= @startup_profile.user.user_profile.organization %></p>
            <% end %>

            <% if @startup_profile.user.user_profile.bio.present? %>
              <p class="text-sm text-base-content/70 leading-relaxed mb-4"><%= @startup_profile.user.user_profile.bio %></p>
            <% end %>

            <!-- Social Links -->
            <div class="flex flex-wrap gap-2 pt-4 border-t border-base-300">
              <% if @startup_profile.user.user_profile.linkedin_url.present? %>
                <%= link_to @startup_profile.user.user_profile.linkedin_url, target: '_blank', rel: 'noreferrer', class: 'btn btn-sm btn-ghost' do %>
                  <%= social_media_icon('linkedin') %>
                <% end %>
              <% end %>
              <% if @startup_profile.user.user_profile.twitter_url.present? %>
                <%= link_to @startup_profile.user.user_profile.twitter_url, target: '_blank', rel: 'noreferrer', class: 'btn btn-sm btn-ghost' do %>
                  <%= social_media_icon('x') %>
                <% end %>
              <% end %>
              <% if @startup_profile.user.user_profile.other_social_url.present? && @startup_profile.user.user_profile.other_social_platform.present? %>
                <%= link_to @startup_profile.user.user_profile.other_social_url, target: '_blank', rel: 'noreferrer', class: 'btn btn-sm btn-ghost' do %>
                  <%= social_media_icon(@startup_profile.user.user_profile.other_social_platform) %>
                <% end %>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>

      <!-- Team Card -->
      <% if @startup_profile.team_size&.> 1 %>
        <div class="card bg-base-100 shadow-xl p-6">
          <div class="card-body p-0">
            <h3 class="text-xl font-bold text-base-content mb-2">Team</h3>
            <p class="text-sm text-base-content/70 mb-2"><strong><%= @startup_profile.team_size %></strong> members</p>
            <p class="text-xs text-base-content/50">Detailed team member profiles coming soon.</p>
          </div>
        </div>
      <% end %>

      <!-- Owner Viewing Card -->
      <% if @owner_viewing %>
        <div class="card bg-nailab-purple text-white shadow-xl p-6">
          <div class="card-body p-0">
            <h3 class="text-lg font-bold mb-2">Your Public Profile</h3>
            <p class="text-sm text-white/90 mb-4">You are viewing your public profile. Toggle visibility in your settings.</p>
            <%= link_to 'Edit Profile', founder_startup_profile_path, class: 'btn btn-sm bg-white text-nailab-purple hover:bg-gray-100 rounded-full' %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
